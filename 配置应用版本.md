# 配置 Shopify 应用版本 - 详细步骤

## 📋 当前页面：Create a version（创建版本）

这是正确的页面！你需要配置这个版本，然后才能获取API凭证。

## 🎯 配置步骤（按顺序填写）

### 1. App name（应用名称）
- ✅ 已经填写：`EZProduct`
- 不需要修改

### 2. URLs（URL配置）

**App URL:**
- 当前显示：`https://example.com`
- **修改为**：`https://localhost:3000`
- 或者先保持 `https://example.com`，稍后更新

**Embed app in Shopify admin:**
- ✅ 保持勾选（已勾选）

**Preferences URL (optional):**
- 留空即可

### 3. Access（权限配置）- 重要！

**Scopes（权限范围）:**
- 点击 **"Select scopes"** 按钮
- 在弹出窗口中选择以下权限：
  - ✅ `write_products` - 写入产品
  - ✅ `read_products` - 读取产品
  - ✅ `write_product_listings` - 写入产品列表
  - ✅ `read_product_listings` - 读取产品列表
- 或者直接在输入框中输入（逗号分隔）：
  ```
  write_products,read_products,write_product_listings,read_product_listings
  ```

**Optional scopes（可选权限）:**
- 留空即可

**Redirect URLs（重定向URL）:**
- 输入以下URL（每行一个或逗号分隔）：
  ```
  https://localhost:3000/auth/callback
  https://localhost:3000/auth/shopify/callback
  https://localhost:3000/api/auth/callback
  ```
- 如果使用ngrok，替换为ngrok的URL

### 4. Webhooks API Version
- ✅ 保持默认：`2026-01`

### 5. POS 和 App proxy
- 保持折叠状态，不需要配置

## 🚀 发布版本

配置完成后：

1. 点击页面右上角或底部的 **"Release"** 按钮
2. 确认发布
3. 版本发布后，才能获取API凭证

## 🔑 获取API凭证（发布版本后）

版本发布后：

1. **返回应用主页面**
   - 点击左上角的返回箭头
   - 或点击应用名称

2. **找到API凭证**
   - 在应用页面找到 **"API credentials"** 标签
   - 或进入 **"App setup"** → **"API credentials"**
   - 或查看应用概览页面

3. **复制凭证**
   - **Client ID**（或 API Key）
   - **Client Secret**（或 API Secret）- 可能需要点击"显示"按钮

## 📝 快速配置清单

- [ ] App URL: `https://localhost:3000`
- [ ] Scopes: `write_products,read_products,write_product_listings,read_product_listings`
- [ ] Redirect URLs: 填入3个回调URL
- [ ] 点击 "Release" 发布版本
- [ ] 获取API凭证

## ⚠️ 重要提示

1. **必须先发布版本**，才能获取API凭证
2. **Scopes必须配置**，否则应用无法创建产品
3. **Redirect URLs必须配置**，否则OAuth认证会失败
4. **开发环境可以使用localhost**，Shopify CLI会自动处理

## 🎯 配置完成后

1. 发布版本
2. 获取API凭证
3. 填入项目的 `.env` 和 `shopify.app.toml`
4. 运行 `npm run dev` 启动应用

