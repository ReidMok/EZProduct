# 解决 Shopify App 启动错误

## ❌ 当前错误

错误信息：`Error updating dev preview` 和 `Failed to start dev preview`

这个错误通常是因为：
1. 网络连接问题（无法访问Google Cloud Storage）
2. Shopify CLI版本问题
3. 应用配置不完整

## 🔧 解决方案

### 方案1：重新启动（最简单）

1. **停止当前进程**
   - 在终端按 `Ctrl + C`

2. **清理缓存**
   ```bash
   rm -rf .shopify
   ```

3. **重新启动**
   ```bash
   npm run dev
   ```

### 方案2：检查网络连接

如果方案1不行，可能是网络问题：

1. **检查网络连接**
   - 确保能访问互联网
   - 如果使用VPN，尝试关闭或切换节点

2. **使用代理（如果需要）**
   ```bash
   # 设置代理（如果有）
   export HTTP_PROXY=your_proxy
   export HTTPS_PROXY=your_proxy
   npm run dev
   ```

### 方案3：更新Shopify CLI

```bash
# 更新Shopify CLI到最新版本
npm install -g @shopify/cli@latest

# 然后重新启动
npm run dev
```

### 方案4：检查应用配置

确保 `shopify.app.toml` 配置完整：

```toml
name = "EZProduct"
client_id = "你的Client_ID"
application_url = "https://localhost:3000"
embedded = true

[access_scopes]
scopes = "write_products,read_products,write_product_listings,read_product_listings"

[auth]
redirect_urls = [
  "https://localhost:3000/auth/callback",
  "https://localhost:3000/auth/shopify/callback",
  "https://localhost:3000/api/auth/callback"
]
```

### 方案5：使用本地模式（如果以上都不行）

尝试使用本地开发模式：

```bash
# 停止当前进程
# 按 Ctrl + C

# 使用本地模式启动
shopify app dev --local
```

## 🎯 推荐操作顺序

1. **先尝试方案1**（重新启动）
2. 如果不行，尝试**方案3**（更新CLI）
3. 如果还不行，尝试**方案5**（本地模式）

## 📝 如果还是不行

检查终端中的详细错误信息，可能的原因：
- 防火墙阻止了连接
- 需要更新Shopify CLI
- 应用配置有问题

告诉我具体的错误信息，我可以帮你进一步诊断。

