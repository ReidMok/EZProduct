# 🚀 一次性启动步骤

## ✅ 已完成的修复

我已经修改了 `vite.config.ts`，将 `host: 'localhost'` 改为 `host: '0.0.0.0'`，这样 Remix 服务器会监听所有网络接口，允许 Shopify CLI 代理服务器连接。

## 📋 启动步骤（按顺序执行）

### 步骤1：打开第一个终端（Shopify CLI）

```bash
cd /Users/Zhuanz/cursor/resinmemory_product/ezproduct
npm run dev
```

**等待显示：**
- `✔ Ready, watching for changes in your app`
- `Preview URL: https://ezproduct-test-store.myshopify.com/admin/oauth/redirect_from_cli?client_id=...`

**重要：** 先不要关闭这个终端，让它保持运行。

### 步骤2：打开第二个终端（Remix 服务器）

```bash
cd /Users/Zhuanz/cursor/resinmemory_product/ezproduct
npm run dev:remix
```

**等待显示：**
- `→ Local: http://localhost:3000/`
- 一些 Shopify API 初始化信息

**重要：** 先不要关闭这个终端，让它保持运行。

### 步骤3：打开第三个终端（测试）

```bash
cd /Users/Zhuanz/cursor/resinmemory_product/ezproduct
curl http://localhost:3000/app
```

**预期结果：**
- ✅ 看到 HTML 输出（Remix 应用的 HTML）
- ❌ 如果显示 "连接被拒绝"，说明 Remix 服务器没有启动

### 步骤4：打开 Preview URL

1. **从 Terminal 1 复制 Preview URL**
2. **在浏览器的新标签页中打开这个 URL**
3. **完成 OAuth 安装流程**

### 步骤5：观察 Terminal 2（Remix 服务器）的输出

当你打开 Preview URL 并完成安装后，Terminal 2 应该会显示：

- `[Auth] GET /auth/callback?...` 或类似
- `[Remix] GET /app?...` 或类似

**如果没有看到这些日志，说明请求还是没有到达 Remix 服务器。**

## 📝 请告诉我

1. **Terminal 1 和 Terminal 2 都启动成功了吗？**
   - Terminal 1 是否显示 "Ready"？
   - Terminal 2 是否显示 "Local: http://localhost:3000/"？

2. **`curl http://localhost:3000/app` 的结果是什么？**
   - 看到 HTML 输出？
   - 还是显示 "连接被拒绝"？

3. **打开 Preview URL 后，Terminal 2（Remix 服务器）显示了什么？**
   - 是否有 `[Auth] GET /auth/...` 的日志？
   - 是否有 `[Remix] GET /app` 的日志？
   - 或者完全没有新的日志？

这些信息将帮助我确定问题是否已解决。

